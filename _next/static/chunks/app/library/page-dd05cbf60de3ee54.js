(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{1142:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});let s=(0,r(1958).UU)("https://rcofndbwultxfqiwqmst.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJjb2ZuZGJ3dWx0eGZxaXdxbXN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5MTk1MDIsImV4cCI6MjA4MjQ5NTUwMn0.pYykBYeJx9_9gu98f1Vi1E_GVoiKhSBNtcr77nxQMmY")},4940:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(5155),a=r(9521),l=r(1142),i=r(7686),n=r(6029),o=r(8340);let c=(0,o.A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),d=(0,o.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),u=(0,o.A)("list-music",[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),h=(0,o.A)("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var m=r(8500),x=r.n(m),p=r(2115);let g=({icon:e,label:t,href:r,color:a})=>(0,s.jsxs)(x(),{href:r,className:"flex items-center gap-4 p-4 rounded-xl bg-white shadow-sm hover:shadow-md transition group border border-neutral-100",children:[(0,s.jsx)("div",{className:`p-3 rounded-full ${a} bg-opacity-10 group-hover:bg-opacity-20 transition`,children:(0,s.jsx)(e,{className:`w-6 h-6 ${a.replace("bg-","text-")}`})}),(0,s.jsx)("span",{className:"font-bold text-lg text-neutral-800",children:t})]});function f(){let{user:e}=(0,a.A)(),[t,r]=(0,p.useState)([]);return(0,p.useEffect)(()=>{(async()=>{if(!e)return;let{data:t}=await l.N.from("playlists").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});t&&r(t)})()},[e]),(0,s.jsxs)("div",{className:"h-full w-full overflow-y-auto p-6 bg-gray-50",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-neutral-800 mb-6",children:"Your Library"}),(0,s.jsxs)("div",{className:"grid gap-4 max-w-2xl mb-8",children:[(0,s.jsx)(g,{icon:i.A,label:"Liked Songs",href:"/liked",color:"bg-green-500 text-green-600"}),(0,s.jsx)(g,{icon:n.A,label:"Your Station",href:"/stream",color:"bg-blue-500 text-blue-600"}),(0,s.jsx)(g,{icon:c,label:"History",href:"/history",color:"bg-orange-500 text-orange-600"})]}),(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-neutral-800",children:"Your Playlists"}),(0,s.jsxs)(x(),{href:"/create-playlist",className:"flex items-center gap-1 text-sm font-bold text-orange-500 hover:text-orange-600 bg-orange-50 px-3 py-1 rounded-full transition",children:[(0,s.jsx)(d,{size:16})," New Playlist"]})]}),0===t.length?(0,s.jsxs)("div",{className:"p-10 text-center bg-white rounded-xl border-dashed border-2 border-neutral-200",children:[(0,s.jsx)("div",{className:"inline-block p-4 bg-orange-50 rounded-full mb-3",children:(0,s.jsx)(u,{size:32,className:"text-orange-500"})}),(0,s.jsx)("p",{className:"text-neutral-500 font-medium mb-4",children:"No playlists created yet"}),(0,s.jsx)(x(),{href:"/create-playlist",className:"inline-block px-6 py-2 bg-orange-500 text-white rounded-full font-bold hover:scale-105 transition shadow-lg shadow-orange-500/30",children:"Create Group Playlist"})]}):(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t.map(e=>(0,s.jsxs)(x(),{href:`/playlist?id=${e.id}`,className:"group bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition border border-neutral-100",children:[(0,s.jsxs)("div",{className:"aspect-square bg-gradient-to-br from-orange-400 to-pink-500 rounded-lg mb-3 flex items-center justify-center shadow-inner relative overflow-hidden",children:[e.image_url?(0,s.jsx)("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"}):(0,s.jsx)(u,{className:"text-white/50 w-12 h-12"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/10 opacity-0 group-hover:opacity-100 transition flex items-center justify-center",children:(0,s.jsx)(h,{size:32,className:"text-white fill-white/20"})})]}),(0,s.jsx)("h3",{className:"font-bold text-neutral-800 truncate",children:e.title}),(0,s.jsx)("p",{className:"text-xs text-neutral-400 truncate",children:e.description||"Custom Playlist"})]},e.id))})]})]})}},6029:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(8340).A)("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},7686:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(8340).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},8340:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(2115);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:o,iconNode:c,...d},u)=>(0,s.createElement)("svg",{ref:u,...i,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:l("lucide",n),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(o)?o:[o]])),o=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...i},o)=>(0,s.createElement)(n,{ref:o,iconNode:t,className:l(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...i}));return r.displayName=a(e),r}},9521:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,AuthProvider:()=>o});var s=r(5155),a=r(2115),l=r(1142);let i=(0,a.createContext)({user:null,loading:!0,signOut:async()=>{}}),n=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useAuth must be used within AuthProvider");return e};function o({children:e}){let[t,r]=(0,a.useState)(null),[n,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{let{data:{session:e},error:t}=await l.N.auth.getSession();t?(console.error("Auth session error:",t),(t.message.includes("Refresh Token Not Found")||t.message.includes("Invalid Refresh Token"))&&(await l.N.auth.signOut(),r(null))):r(e?.user??null),o(!1)})();let{data:{subscription:e}}=l.N.auth.onAuthStateChange(async(e,t)=>{console.log("Auth event:",e),"SIGNED_OUT"===e?r(null):("SIGNED_IN"===e||"TOKEN_REFRESHED"===e)&&r(t?.user??null),o(!1)});return()=>e.unsubscribe()},[]);let c=async()=>{await l.N.auth.signOut(),r(null)};return(0,s.jsx)(i.Provider,{value:{user:t,loading:n,signOut:c},children:e})}},9622:(e,t,r)=>{Promise.resolve().then(r.bind(r,4940))}},e=>{e.O(0,[958,500,441,794,358],()=>e(e.s=9622)),_N_E=e.O()}]);